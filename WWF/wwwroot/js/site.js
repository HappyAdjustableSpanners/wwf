// Please see documentation at https://docs.microsoft.com/aspnet/core/client-side/bundling-and-minification
// for details on configuring this project to bundle and minify static web assets.

// Write your JavaScript code.

$("#form").submit(function () {
	var sigData = $('#signature').jSignature('getData', 'default');

	if (sigData == "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAooAAACWCAYAAABZ/6lFAAAI3ElEQVR4Xu3YsXEiQBBFQRTUXUgERUinpC4BjFcrB+1v7NkqpgfjFV8PHwIECBAgQIAAAQJvBL6oECBAgAABAgQIEHgnIBT9LggQIECAAAECBN4KCEU/DAIECBAgQIAAAaHoN0CAAAECBAgQINAF/KPYrUwSIECAAAECBKYEhOLUuS1LgAABAgQIEOgCQrFbmSRAgAABAgQITAkIxalzW5YAAQIECBAg0AWEYrcySYAAAQIECBCYEhCKU+e2LAECBAgQIECgCwjFbmWSAAECBAgQIDAlIBSnzm1ZAgQIECBAgEAXEIrdyiQBAgQIECBAYEpAKE6d27IECBAgQIAAgS4gFLuVSQIECBAgQIDAlIBQnDq3ZQkQIECAAAECXUAodiuTBAgQIECAAIEpAaE4dW7LEiBAgAABAgS6gFDsViYJECBAgAABAlMCQnHq3JYlQIAAAQIECHQBoditTBIgQIAAAQIEpgSE4tS5LUuAAAECBAgQ6AJCsVuZJECAAAECBAhMCQjFqXNblgABAgQIECDQBYRitzJJgAABAgQIEJgSEIpT57YsAQIECBAgQKALCMVuZZIAAQIECBAgMCUgFKfObVkCBAgQIECAQBcQit3KJAECBAgQIEBgSkAoTp3bsgQIECBAgACBLiAUu5VJAgQIECBAgMCUgFCcOrdlCRAgQIAAAQJdQCh2K5MECBAgQIAAgSkBoTh1bssSIECAAAECBLqAUOxWJgkQIECAAAECUwJCcercliVAgAABAgQIdAGh2K1MEiBAgAABAgSmBITi1LktS4AAAQIECBDoAkKxW5kkQIAAAQIECEwJCMWpc1uWAAECBAgQINAFhGK3MkmAAAECBAgQmBIQilPntiwBAgQIECBAoAsIxW5lkgABAgQIECAwJSAUp85tWQIECBAgQIBAFxCK3cokAQIECBAgQGBKQChOnduyBAgQIECAAIEuIBS7lUkCBAgQIECAwJSAUJw6t2UJECBAgAABAl1AKHYrkwQIECBAgACBKQGhOHVuyxIgQIAAAQIEuoBQ7FYmCRAgQIAAAQJTAkJx6tyWJUCAAAECBAh0AaHYrUwSIECAAAECBKYEhOLUuS1LgAABAgQIEOgCQrFbmSRAgAABAgQITAkIxalzW5YAAQIECBAg0AWEYrcySYAAAQIECBCYEhCKU+e2LAECBAgQIECgCwjFbmWSAAECBAgQIDAlIBSnzm1ZAgQIECBAgEAXEIrdyiQBAgQIECBAYEpAKE6d27IECBAgQIAAgS4gFLuVSQIECBAgQIDAlIBQnDq3ZQkQIECAAAECXUAodiuTBAgQIECAAIEpAaE4dW7LEiBAgAABAgS6gFDsViYJECBAgAABAlMCQnHq3JYlQIAAAQIECHQBoditTBIgQIAAAQIEpgSE4tS5LUuAAAECBAgQ6AJCsVuZJECAAAECBAhMCQjFqXNblgABAgQIECDQBYRitzJJgAABAgQIEJgSEIpT57YsAQIECBAgQKALCMVuZZIAAQIECBAgMCUgFKfObVkCBAgQIECAQBcQit3KJAECBAgQIEBgSkAoTp3bsgQIECBAgACBLiAUu5VJAgQIECBAgMCUgFCcOrdlCRAgQIAAAQJdQCh2K5MECBAgQIAAgSkBoTh1bssSIECAAAECBLqAUOxWJgkQIECAAAECUwJCcercliVAgAABAgQIdAGh2K1MEiBAgAABAgSmBITi1LktS4AAAQIECBDoAkKxW5kkQIAAAQIECEwJCMWpc1uWAAECBAgQINAFhGK3MkmAAAECBAgQmBIQilPntiwBAgQIECBAoAsIxW5lkgABAgQIECAwJSAUp85tWQIECBAgQIBAFxCK3cokAQIECBAgQGBKQChOnduyBAgQIECAAIEuIBS7lUkCBAgQIECAwJSAUJw6t2UJECBAgAABAl1AKHYrkwQIECBAgACBKQGhOHVuyxIgQIAAAQIEuoBQ7FYmCRAgQIAAAQJTAkJx6tyWJUCAAAECBAh0AaHYrUwSIECAAAECBKYEhOLUuS1LgAABAgQIEOgCQrFbmSRAgAABAgQITAkIxalzW5YAAQIECBAg0AWEYrcySYAAAQIECBCYEhCKU+e2LAECBAgQIECgCwjFbmWSAAECBAgQIDAlIBSnzm1ZAgQIECBAgEAXEIrdyiQBAgQIECBAYEpAKE6d27IECBAgQIAAgS4gFLuVSQIECBAgQIDAlIBQnDq3ZQkQIECAAAECXUAodiuTBAgQIECAAIEpAaE4dW7LEiBAgAABAgS6gFDsViYJECBAgAABAlMCQnHq3JYlQIAAAQIECHQBoditTBIgQIAAAQIEpgSE4tS5LUuAAAECBAgQ6AK/LhSfz+e/x+Pxp69okgABAgQIECDwEQLfr9fr70d8k/glhGKEMkaAAAECBAgQ+KGAUPwhoOcECBAgQIAAAQIfIvDr/lH8EDdfgwABAgQIECBwvYBQvP7EFiRAgAABAgQInAkIxTM3rwgQIECAAAEC1wsIxetPbEECBAgQIECAwJmAUDxz84oAAQIECBAgcL2AULz+xBYkQIAAAQIECJwJCMUzN68IECBAgAABAtcLCMXrT2xBAgQIECBAgMCZgFA8c/OKAAECBAgQIHC9gFC8/sQWJECAAAECBAicCQjFMzevCBAgQIAAAQLXCwjF609sQQIECBAgQIDAmYBQPHPzigABAgQIECBwvYBQvP7EFiRAgAABAgQInAkIxTM3rwgQIECAAAEC1wsIxetPbEECBAgQIECAwJmAUDxz84oAAQIECBAgcL2AULz+xBYkQIAAAQIECJwJCMUzN68IECBAgAABAtcLCMXrT2xBAgQIECBAgMCZgFA8c/OKAAECBAgQIHC9gFC8/sQWJECAAAECBAicCQjFMzevCBAgQIAAAQLXCwjF609sQQIECBAgQIDAmYBQPHPzigABAgQIECBwvYBQvP7EFiRAgAABAgQInAkIxTM3rwgQIECAAAEC1wsIxetPbEECBAgQIECAwJnAf8cBCpeNE/oyAAAAAElFTkSuQmCC") {
		sigData = "";
	}
	
	$('#hiddenSigData').val(sigData);
	console.log('jSignature saving signature');

});


$("#show-add").click(function () {
	$('#addressSelectBox')
		.find('option')
		.remove()
	var location = $('#Address').val();
	getAddress(location);
});


function getAddress(location) {
	var cmd = "https://maps.googleapis.com/maps/api/geocode/json?address=" + location + "&key=AIzaSyCdVwcRvEX2l5d-NY92uVd8Pvo5Uy_ZKCU";
	$.getJSON(cmd, function(data, textStatus){
		$.each(data.results, function (key, val) {
			// add to drop down
			var addressSelectBox = document.getElementById("addressSelectBox");
			addressSelectBox.options[addressSelectBox.options.length] = new Option(val.formatted_address);
		});
	});
}

$('#addressSelectBox').on('change', function () {
	alert(this.value);
});


